{% extends "base.html" %}

{% block title %}Datasets - Exoplanet Hunter AI{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1><i class="fas fa-database"></i> NASA Mission Datasets</h1>
        <p>Comprehensive data from Kepler, K2, and TESS missions</p>
    </div>
</div>

<div class="datasets-content">
    <div class="container">
        
        <!-- Overview -->
        <section class="datasets-section">
            <h2><i class="fas fa-info-circle"></i> Dataset Overview</h2>
            <p>Our model is trained on the most comprehensive collection of exoplanet data available, combining observations from three major NASA space missions. This multi-mission approach ensures robust performance across different stellar types and orbital configurations.</p>
            
            <div class="dataset-stats">
                <div class="stat-card">
                    <div class="stat-number">21,171</div>
                    <div class="stat-label">Total Samples</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10,366</div>
                    <div class="stat-label">Confirmed Exoplanets</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10,805</div>
                    <div class="stat-label">Non-Exoplanets</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Core Features</div>
                </div>
            </div>
        </section>

        <!-- Kepler Mission -->
        <section class="datasets-section">
            <h2><i class="fas fa-satellite"></i> Kepler Mission (2009-2018)</h2>
            
            <div class="mission-info">
                <div class="mission-details">
                    <h3>Mission Overview</h3>
                    <p>The Kepler Space Telescope was NASA's first mission dedicated to finding Earth-size and smaller planets in or near the habitable zone of Sun-like stars. It used the transit method to detect exoplanets by measuring the periodic dimming of stars as planets pass in front of them.</p>
                    
                    <h4>Key Achievements:</h4>
                    <ul>
                        <li>Discovered over 2,600 confirmed exoplanets</li>
                        <li>Observed 200,000+ stars continuously for 4 years</li>
                        <li>Revolutionized our understanding of planetary systems</li>
                        <li>Established that planets are common in our galaxy</li>
                    </ul>
                </div>
                
                <div class="dataset-details">
                    <h3>Kepler Dataset</h3>
                    <div class="dataset-metrics">
                        <div class="metric">
                            <span class="metric-name">Samples:</span>
                            <span class="metric-value">9,564</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Features:</span>
                            <span class="metric-value">12</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Mission Duration:</span>
                            <span class="metric-value">2009-2018</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Field of View:</span>
                            <span class="metric-value">115 square degrees</span>
                        </div>
                    </div>
                    
                    <h4>Data Quality:</h4>
                    <p>Kepler data is considered the gold standard for exoplanet detection due to its long observation periods and high photometric precision. The mission's primary goal was to determine the frequency of Earth-size planets in the habitable zone.</p>
                </div>
            </div>
        </section>

        <!-- K2 Mission -->
        <section class="datasets-section">
            <h2><i class="fas fa-satellite"></i> K2 Mission (2014-2018)</h2>
            
            <div class="mission-info">
                <div class="mission-details">
                    <h3>Mission Overview</h3>
                    <p>After the failure of two reaction wheels, Kepler was repurposed for the K2 mission, which observed different fields along the ecliptic plane. K2 continued the search for exoplanets while also studying other astronomical phenomena.</p>
                    
                    <h4>Key Achievements:</h4>
                    <ul>
                        <li>Discovered over 500 confirmed exoplanets</li>
                        <li>Observed 20+ different fields across the sky</li>
                        <li>Studied stars of various types and ages</li>
                        <li>Contributed to stellar astrophysics research</li>
                    </ul>
                </div>
                
                <div class="dataset-details">
                    <h3>K2 Dataset</h3>
                    <div class="dataset-metrics">
                        <div class="metric">
                            <span class="metric-name">Samples:</span>
                            <span class="metric-value">4,004</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Features:</span>
                            <span class="metric-value">9</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Mission Duration:</span>
                            <span class="metric-value">2014-2018</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Observation Strategy:</span>
                            <span class="metric-value">80-day campaigns</span>
                        </div>
                    </div>
                    
                    <h4>Data Characteristics:</h4>
                    <p>K2 data has slightly higher noise levels compared to Kepler due to the spacecraft's reduced pointing stability, but it provides valuable diversity in stellar types and orbital configurations not covered by the original Kepler mission.</p>
                </div>
            </div>
        </section>

        <!-- TESS Mission -->
        <section class="datasets-section">
            <h2><i class="fas fa-satellite"></i> TESS Mission (2018-Present)</h2>
            
            <div class="mission-info">
                <div class="mission-details">
                    <h3>Mission Overview</h3>
                    <p>The Transiting Exoplanet Survey Satellite (TESS) is NASA's current exoplanet-hunting mission. It uses an array of wide-field cameras to survey the entire sky, focusing on bright, nearby stars to find exoplanets suitable for detailed atmospheric characterization.</p>
                    
                    <h4>Key Achievements:</h4>
                    <ul>
                        <li>Discovered over 6,000 exoplanet candidates</li>
                        <li>Identified 300+ confirmed exoplanets</li>
                        <li>Found planets around the nearest stars</li>
                        <li>Enabled follow-up observations with JWST</li>
                    </ul>
                </div>
                
                <div class="dataset-details">
                    <h3>TESS Dataset</h3>
                    <div class="dataset-metrics">
                        <div class="metric">
                            <span class="metric-name">Samples:</span>
                            <span class="metric-value">7,703</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Features:</span>
                            <span class="metric-value">11</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Mission Duration:</span>
                            <span class="metric-value">2018-Present</span>
                        </div>
                        <div class="metric">
                            <span class="metric-name">Sky Coverage:</span>
                            <span class="metric-value">85% of the sky</span>
                        </div>
                    </div>
                    
                    <h4>Data Advantages:</h4>
                    <p>TESS focuses on bright, nearby stars, making the discovered planets ideal targets for atmospheric characterization. The mission's wide-field approach provides excellent statistics on planet occurrence rates.</p>
                </div>
            </div>
        </section>

        <!-- Feature Engineering -->
        <section class="datasets-section">
            <h2><i class="fas fa-cogs"></i> Feature Engineering & Preprocessing</h2>
            
            <div class="feature-engineering">
                <h3>Data Harmonization</h3>
                <p>One of the biggest challenges in multi-mission exoplanet detection is the different naming conventions and data formats used by each mission. Our preprocessing pipeline standardizes all datasets to use consistent feature names and units.</p>
                
                <div class="harmonization-example">
                    <h4>Example: Orbital Period</h4>
                    <div class="harmonization-grid">
                        <div class="mission-column">
                            <h5>Kepler</h5>
                            <code>koi_period</code>
                        </div>
                        <div class="mission-column">
                            <h5>K2</h5>
                            <code>k2_period</code>
                        </div>
                        <div class="mission-column">
                            <h5>TESS</h5>
                            <code>tess_period</code>
                        </div>
                        <div class="mission-column">
                            <h5>Standardized</h5>
                            <code>pl_orbper</code>
                        </div>
                    </div>
                </div>

                <h3>Feature Selection</h3>
                <p>We selected 12 core features that are:</p>
                <ul>
                    <li><strong>Universally available</strong> across all three missions</li>
                    <li><strong>Physically meaningful</strong> for exoplanet detection</li>
                    <li><strong>Highly predictive</strong> based on transit physics</li>
                    <li><strong>Low missing data</strong> percentage (< 60%)</li>
                </ul>

                <div class="feature-categories">
                    <div class="feature-category">
                        <h4>Planetary Parameters</h4>
                        <ul>
                            <li><code>pl_orbper</code> - Orbital Period (days)</li>
                            <li><code>pl_trandur</code> - Transit Duration (hours)</li>
                            <li><code>pl_trandep</code> - Transit Depth (ppm)</li>
                            <li><code>pl_rade</code> - Planet Radius (Earth radii)</li>
                            <li><code>pl_eqt</code> - Planet Temperature (K)</li>
                            <li><code>pl_insol</code> - Insolation Flux (Earth flux)</li>
                            <li><code>pl_imppar</code> - Impact Parameter (0-1)</li>
                        </ul>
                    </div>
                    
                    <div class="feature-category">
                        <h4>Stellar Parameters</h4>
                        <ul>
                            <li><code>st_teff</code> - Star Temperature (K)</li>
                            <li><code>st_rad</code> - Star Radius (Solar radii)</li>
                            <li><code>st_logg</code> - Surface Gravity (log g)</li>
                        </ul>
                    </div>
                    
                    <div class="feature-category">
                        <h4>Positional Data</h4>
                        <ul>
                            <li><code>ra</code> - Right Ascension (degrees)</li>
                            <li><code>dec</code> - Declination (degrees)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Quality -->
        <section class="datasets-section">
            <h2><i class="fas fa-check-circle"></i> Data Quality & Validation</h2>
            
            <div class="quality-metrics">
                <div class="quality-card">
                    <h3>Missing Data Analysis</h3>
                    <p>We analyzed missing data patterns across all features to ensure robust model training:</p>
                    <ul>
                        <li><strong>Low missing:</strong> Orbital period (0.65%), Star radius (4.34%)</li>
                        <li><strong>Medium missing:</strong> Planet radius (7.66%), Star temperature (7.33%)</li>
                        <li><strong>High missing:</strong> Impact parameter (56.54%) - handled with median imputation</li>
                    </ul>
                </div>
                
                <div class="quality-card">
                    <h3>Class Balance</h3>
                    <p>Our dataset maintains excellent class balance:</p>
                    <ul>
                        <li><strong>Confirmed Exoplanets:</strong> 48.9% (10,366 samples)</li>
                        <li><strong>Non-Exoplanets:</strong> 51.1% (10,805 samples)</li>
                        <li><strong>SMOTE applied</strong> during training to ensure balanced learning</li>
                    </ul>
                </div>
                
                <div class="quality-card">
                    <h3>Physical Validation</h3>
                    <p>All features are validated against known physical constraints:</p>
                    <ul>
                        <li>Transit depths match planet/star size ratios</li>
                        <li>Orbital periods follow Kepler's laws</li>
                        <li>Planet temperatures are physically reasonable</li>
                        <li>Impact parameters are within valid ranges (0-1)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Data Sources -->
        <section class="datasets-section">
            <h2><i class="fas fa-external-link-alt"></i> Data Sources & Access</h2>
            
            <div class="data-sources">
                <div class="source-card">
                    <h3>NASA Exoplanet Archive</h3>
                    <p>The primary source for all exoplanet data used in this project.</p>
                    <a href="https://exoplanetarchive.ipac.caltech.edu/" target="_blank" class="btn btn-outline">
                        <i class="fas fa-external-link-alt"></i> Visit Archive
                    </a>
                </div>
                
                <div class="source-card">
                    <h3>Kepler Data</h3>
                    <p>Kepler Objects of Interest (KOI) catalog and mission data.</p>
                    <a href="https://exoplanetarchive.ipac.caltech.edu/docs/API_kepler.html" target="_blank" class="btn btn-outline">
                        <i class="fas fa-external-link-alt"></i> Access Data
                    </a>
                </div>
                
                <div class="source-card">
                    <h3>TESS Data</h3>
                    <p>TESS Objects of Interest (TOI) catalog and light curve data.</p>
                    <a href="https://exoplanetarchive.ipac.caltech.edu/docs/API_tess.html" target="_blank" class="btn btn-outline">
                        <i class="fas fa-external-link-alt"></i> Access Data
                    </a>
                </div>
                
                <div class="source-card">
                    <h3>K2 Data</h3>
                    <p>K2 mission data and planet candidates.</p>
                    <a href="https://exoplanetarchive.ipac.caltech.edu/docs/API_k2.html" target="_blank" class="btn btn-outline">
                        <i class="fas fa-external-link-alt"></i> Access Data
                    </a>
                </div>
            </div>
        </section>

    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.datasets-content {
    padding: 2rem 0;
}

.datasets-section {
    margin-bottom: 3rem;
    padding: 2rem;
    background: #f8f9fa;
    border-radius: 10px;
    border-left: 4px solid #28a745;
}

.dataset-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
}

.stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.stat-number {
    font-size: 2rem;
    font-weight: bold;
    color: #007bff;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #6c757d;
    font-size: 0.9rem;
}

.mission-info {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin-top: 1rem;
}

.mission-details {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.dataset-details {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.dataset-metrics {
    margin: 1rem 0;
}

.metric {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid #f0f0f0;
}

.metric-name {
    font-weight: 500;
}

.metric-value {
    font-weight: bold;
    color: #28a745;
}

.harmonization-example {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.harmonization-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-top: 1rem;
}

.mission-column {
    text-align: center;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
}

.mission-column h5 {
    margin: 0 0 0.5rem 0;
    color: #007bff;
}

.mission-column code {
    background: #e9ecef;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.9rem;
}

.feature-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.feature-category {
    background: white;
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid #e9ecef;
}

.feature-category h4 {
    color: #007bff;
    margin-bottom: 0.5rem;
}

.feature-category code {
    background: #f8f9fa;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    font-size: 0.85rem;
    color: #e83e8c;
}

.quality-metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.quality-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.data-sources {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.source-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border: 1px solid #e9ecef;
}

.source-card h3 {
    color: #007bff;
    margin-bottom: 1rem;
}

.btn-outline {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: transparent;
    color: #007bff;
    border: 2px solid #007bff;
    border-radius: 5px;
    text-decoration: none;
    transition: all 0.3s ease;
}

.btn-outline:hover {
    background: #007bff;
    color: white;
}

@media (max-width: 768px) {
    .mission-info {
        grid-template-columns: 1fr;
    }
    
    .harmonization-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
</style>
{% endblock %}
